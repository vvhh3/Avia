@page "/Avia"
@using Models
@using Newtonsoft.Json
@rendermode InteractiveServer
<h3>Avia</h3>
<div class="Avia">
    <div class="head">
        <div class="header-text">
            <div class="header-title">
                WORLDSKILLS.AVIA
            </div>
            <div class="nav-menu">
                <p class="nav-text">
                    <a href="https://promokod.pikabu.ru/shops/aviasales?ysclid=m7a8e2prm5112942958" class="nav-text">–ê–∫—Ü–∏–∏</a> <a href="AviaForm" class="nav-text">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a> <a href="AviaForm" class="nav-text">–í–æ–π—Ç–∏</a> <a href="Reviews" class="nav-text">–û—Ç–∑—ã–≤—ã</a>
                </p>
            </div>
        </div>
        <div class="text">
            –ü–û–õ–£–ß–ò –°–ö–ò–î–ö–£ –ù–ê –ê–í–ò–ê–ü–ï–†–ï–õ–Å–¢
            <div class="text_2">–ó–∞–∫–æ–Ω–Ω–æ! –õ–µ–≥–∞–ª—å–Ω–æ! –†–∞–±–æ—Ç–∞–µ–º –±–æ–ª–µ–µ 10 –ª–µ—Ç</div>
        </div>
        <div class="choice-route">
            <!--–ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å —ç—Ç–æ—Ç –±–ª–æ–∫ –ø–æ–∑–∂–µ-->
            <div class="choice-route-text">
                <input class="from" @bind="Input_chouse_from" placeholder="–û—Ç–∫—É–¥–∞">
                <input class="where" @bind="Input_chouse_where" placeholder="–ö—É–¥–∞">
                <input class="there" @bind="Input_chouse_there" placeholder="–¢—É–¥–∞">
                <input class="back" @bind="Input_chouse_back" placeholder="–û–±—Ä–∞—Ç–Ω–æ">
                <input class="passengers" @bind="Input_chouse_passengers" placeholder="–ü–∞—Å—Å–∞–∂–∏—Ä–æ–≤">
                <button @onclick="RemoveChouse" class="button">–ù–∞–π—Ç–∏</button>
            </div>
        </div>
        <div class="block">
            <div class="block-title">
                –û–Ω–ª–∞–π–Ω-—Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏<br/>–ø–æ–ª–µ—Ç–∞ —Å–æ —Å–∫–∏–¥–∫–æ–π –≤ –Ω–∞—à–µ–º —Å–µ—Ä–≤–∏—Å–µ.
                <div class="block-per">
                    <div class="per-text">
                        –ø—Ä–∏–Ω—Ü–∏–ø 1 –∏–∑ 3
                        <div class="per">
                            <div class="per_2">
                            </div>
                        </div>
                        25%
                    </div>
                    <div class="city">
                        <div class="city-title">
                            –ü—Ä–∏–Ω—Ü–∏–ø #1.–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥ –ø—Ä–∏–ª–µ—Ç–∞
                        </div>
                        <input @bind="Inp" class="city-input" type="text" placeholder="–ì–æ—Ä–æ–¥ –ø—Ä–∏–ª—ë—Ç–∞..."/>
                        <button @onclick="RemoveInfo" class="city-btn">–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="main">
        <div class="main-title">
            –ù–∞–º –¥–æ–≤–µ—Ä—è—é—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã:
        </div>
        <div class="main-blocks">
            <div class="main-block">
                <div class="main-block-info">
                    <div class="main-block-title">
                        –õ—É—á—à–∞—è —Ü–µ–Ω–∞
                    </div>
                    <div class="main-block-text">
                        –ú—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ –Ω–∞—à–∏<br/> —Ü–µ–Ω—ã –Ω–∏–∂–µ, —á–µ–º —É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤,<br/> –∞ –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ —Ç–∞–∫–æ–º –∂–µ —É—Ä–æ–≤–Ω–µ
                    </div>
                </div>
            </div>
            <div class="main-block">
                <div class="main-block-info">
                    <div class="main-block-title">
                        –õ—É—á—à–∞—è —Ü–µ–Ω–∞
                    </div>
                    <div class="main-block-text">
                        –ú—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ –Ω–∞—à–∏<br/> —Ü–µ–Ω—ã –Ω–∏–∂–µ, —á–µ–º —É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤,<br/> –∞ –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ —Ç–∞–∫–æ–º –∂–µ —É—Ä–æ–≤–Ω–µ
                    </div>
                </div>
            </div>
            <div class="main-block">
                <div class="main-block-info">
                    <div class="main-block-title">
                        –õ—É—á—à–∞—è —Ü–µ–Ω–∞
                    </div>
                    <div class="main-block-text">
                        –ú—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ –Ω–∞—à–∏<br/> —Ü–µ–Ω—ã –Ω–∏–∂–µ, —á–µ–º —É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤,<br/> –∞ –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ —Ç–∞–∫–æ–º –∂–µ —É—Ä–æ–≤–Ω–µ
                    </div>
                </div>
            </div>
            <div class="main-block">
                <div class="main-block-info">
                    <div class="main-block-title">
                        –õ—É—á—à–∞—è —Ü–µ–Ω–∞
                    </div>
                    <div class="main-block-text">
                        –ú—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ –Ω–∞—à–∏<br/> —Ü–µ–Ω—ã –Ω–∏–∂–µ, —á–µ–º —É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤,<br/> –∞ –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ —Ç–∞–∫–æ–º –∂–µ —É—Ä–æ–≤–Ω–µ
                    </div>
                </div>
            </div>
        </div>
        <div class="choice-route-2">
            <div class="choice-route-text-2">
                <input class="from-2" @bind="Input_chouse_from_main" placeholder="–û—Ç–∫—É–¥–∞">
                <input class="where-2" @bind="Input_chouse_where_main" placeholder="–ö—É–¥–∞">
                <input class="there-2" @bind="Input_chouse_there_main" placeholder="–¢—É–¥–∞">
                <input class="back-2" @bind="Input_chouse_back_main" placeholder="–û–±—Ä–∞—Ç–Ω–æ">
                <input class="passengers-2" @bind="Input_chouse_passengers_main" placeholder="–ü–∞—Å—Å–∞–∂–∏—Ä–æ–≤">
                <button @onclick="RemoveChouseMain" class="button">–ù–∞–π—Ç–∏</button>
            </div>
        </div>
        <div class="flight">
            <div class="flight-block">
                <img src="image/24.png" alt="Error" class="flight-img"/>
                <div class="flight-text">
                    <p class="flight-title">–ü–µ—Ä–µ–ª–µ—Ç –≤ —Å–µ–ª–æ</p>
                    <p class="flight-main">–ë—ã—Å—Ç—Ä–æ, –≤ —Å–µ–ª–æ-–∫—É—Ä–æ—Ä—Ç. –£–∂–µ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ<br/> —á–∞—Å–æ–≤ –≤—ã –æ–∫–∞–∂–µ—Ç–µ—Å—å —Å –≥–æ—Ä—è—á–µ–π <br/>—á–∏–∫—Å–æ–π –Ω–∞ —Å–µ–Ω–æ–≤–∞–ª–µ</p>
                    <p class="flight-footer">500 ‚ÇΩ/—á–µ–ª</p>
                    <a href="https://online.sberbank.ru/CSAFront/index.do" class="flight-more">–£–ó–ù–ê–¢–¨ –ü–û–î–†–û–ë–ù–ï–ï</a>
                </div>
            </div>
            <div class="flight-block">
                <img src="image/24.png" alt="Error" class="flight-img"/>
                <div class="flight-text">
                    <p class="flight-title">–ü–µ—Ä–µ–ª–µ—Ç –≤ —Å–µ–ª–æ</p>
                    <p class="flight-main">–ë—ã—Å—Ç—Ä–æ, –≤ —Å–µ–ª–æ-–∫—É—Ä–æ—Ä—Ç. –£–∂–µ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ<br/> —á–∞—Å–æ–≤ –≤—ã –æ–∫–∞–∂–µ—Ç–µ—Å—å —Å –≥–æ—Ä—è—á–µ–π <br/>—á–∏–∫—Å–æ–π –Ω–∞ —Å–µ–Ω–æ–≤–∞–ª–µ</p>
                    <p class="flight-footer">500 ‚ÇΩ/—á–µ–ª</p>
                    <a href="https://online.sberbank.ru/CSAFront/index.do" class="flight-more">–£–ó–ù–ê–¢–¨ –ü–û–î–†–û–ë–ù–ï–ï</a>
                </div>
            </div>
            <div class="flight-block">
                <img src="image/24.png" alt="Error" class="flight-img"/>
                <div class="flight-text">
                    <p class="flight-title">–ü–µ—Ä–µ–ª–µ—Ç –≤ —Å–µ–ª–æ</p>
                    <p class="flight-main">–ë—ã—Å—Ç—Ä–æ, –≤ —Å–µ–ª–æ-–∫—É—Ä–æ—Ä—Ç. –£–∂–µ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ<br/> —á–∞—Å–æ–≤ –≤—ã –æ–∫–∞–∂–µ—Ç–µ—Å—å —Å –≥–æ—Ä—è—á–µ–π <br/>—á–∏–∫—Å–æ–π –Ω–∞ —Å–µ–Ω–æ–≤–∞–ª–µ</p>
                    <p class="flight-footer">500 ‚ÇΩ/—á–µ–ª</p>
                    <a href="https://online.sberbank.ru/CSAFront/index.do" class="flight-more">–£–ó–ù–ê–¢–¨ –ü–û–î–†–û–ë–ù–ï–ï</a>
                </div>
            </div>
        </div>
    </div>
    <div class="footer">
        <div class="footer-sub">
            <p class="sub-title">–û–°–¢–ê–í–¨–¢–ï –°–í–û–ô –û–¢–ó–´–í üòä</p>
            <div class="sub-text">
                <textarea class="name" type="text" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –æ—Ç–∑—ã–≤ –æ –Ω–∞—Å" @bind="_newFeedBack.Text"></textarea>
                <input class="phone" type="text" placeholder="–û—Ü–µ–Ω–∏—Ç–µ –Ω–∞—Å –æ—Ç 0 –¥–æ 5" @bind="_newFeedBack.Stars"/>
                <button class="sub-btn" @onclick="Change">–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
            </div>
        </div>
        <div class="footer-info">
            <p class="footer-info-title">–û –ü–†–û–ï–ö–¢–ï</p>
            <div class="footer-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut lobortis elit vitae massa accumsan varius. Nullam auctor tortor eget placerat fermentum. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut lobortis elit vitae massa accumsan varius.</div>
        </div>
        <div class="footer-about">
            <p class="number">8 (800) 100 10 10</p>
            <p class="email">email@email.ru</p>
        </div>
    </div>
</div>

@code {
    public string Input_chouse_from { get; set; }
    public string Input_chouse_where { get; set; }
    public string Input_chouse_there { get; set; }
    public string Input_chouse_back { get; set; }
    public string Input_chouse_passengers { get; set; }

    public string Input_chouse_from_main { get; set; }
    public string Input_chouse_where_main { get; set; }
    public string Input_chouse_there_main { get; set; }
    public string Input_chouse_back_main { get; set; }
    public string Input_chouse_passengers_main { get; set; }

    public string Inp { get; set; }

    public IList<SavingCl> FeedBack = new List<SavingCl>();
    private SavingCl _newFeedBack = new SavingCl();
    const string path = "AllTasks.json";

    public void RemoveChouse()
    {
        Input_chouse_from = string.Empty;
        Input_chouse_where = string.Empty;
        Input_chouse_there = string.Empty;
        Input_chouse_back = string.Empty;
        Input_chouse_passengers = string.Empty;
    }

    void RemoveChouseMain()
    {
        Input_chouse_from_main = string.Empty;
        Input_chouse_where_main = string.Empty;
        Input_chouse_there_main = string.Empty;
        Input_chouse_back_main = string.Empty;
        Input_chouse_passengers_main = string.Empty;
    }

    public void RemoveInfo()
    {
        Inp = string.Empty;
    }


    protected override void OnInitialized()
    {
        OpenFile();
    }

    public void OpenFile()
    {
        if (File.Exists(path))
        {
            var json = File.ReadAllText(path);
            FeedBack = JsonConvert.DeserializeObject<List<SavingCl>>(json)!;
        }
        else
        {
            SaveFile();
        }
    }

    public void SaveFile()
    {
        var json = JsonConvert.SerializeObject(FeedBack);
        File.WriteAllText(path, json);
    }

    private void Change()
    {
        FeedBack.Add(_newFeedBack);
        _newFeedBack = new SavingCl();
        SaveFile();
    }

}